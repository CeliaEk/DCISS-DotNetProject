@{
    ViewBag.Title = "Encadrant";
}

<h2 class="center">Accueil Encadrant</h2>
<hr />
<section>
    <h3> Mes Disciplines</h3>
    <hr />
    @if (ViewBag.hasDiscipline == "false")
    {
        <table class="table">
            <tr>
                <th>
                    <bold> Nom </bold>
                </th>
                <th>
                    <bold> Description </bold>
                </th>
                <th>
                    <bold> Responsable</bold>
                </th>
                <th></th>
            </tr>

            @foreach (var item in ViewBag.discipline)
            {
                <tr>
                    <td>
                        @item.discipline_nom
                    </td>
                    <td>
                        @item.description
                    </td>
                    <td>
                        @DotNetSportAsso.Controllers.disciplineController.GetUserFullNameByLogin(item.utilisateur.login)
                    </td>
                    <td>
                        @Html.ActionLink("Voir les sections", "Index", "sections", new { id = item.discipline_id }, new { @class = "btn btn - default" })
                        <br />
                        <br />
                        @Html.ActionLink("Modifier la discipline", "Edit", "disciplines", new { id = item.discipline_id }, new { @class = "btn btn - default" })
                        <br />
                        <br />
                        @Html.ActionLink("Supprimer la discipline", "Delete", "disciplines", new { id = item.discipline_id }, new { @class = "btn btn - default" })
                    </td>
                </tr>
            }

        </table>
    }
    else
    {
        <p>Aucunes disciplies trouvés</p>
    }

    <hr />
</section>
<section>
    <h3> Mes Sections</h3>
    <hr />
    @if (ViewBag.hasSection == "false")
    {
        <table class="table">
            <tr>
                <th>
                    <bold> Discipline </bold>
                </th>
                <th>
                    <bold> Nom </bold>
                </th>
                <th>
                    <bold> Description </bold>
                </th>

                <th>
                    <bold> Prix </bold>
                </th>

                <th>
                    <bold>responsable</bold>
                </th>
                <th></th>
            </tr>

            @foreach (var item2 in ViewBag.section)
            {
                <tr>
                    <td>
                        @item2.discipline.discipline_nom
                    </td>
                    <td>
                        @item2.section_nom
                    </td>
                    <td>
                        @item2.description
                    </td>
                    <td>
                        @item2.prix
                    </td>

                    <td>
                        @DotNetSportAsso.Controllers.sectionController.FindUserFullNameById(item2.encadrant_id)
                    </td>
                    <td>
                        @Html.ActionLink("Voir les séances", "Index", "seances", new { id = item2.section_id }, new { @class = "btn btn - default" })
                        <br />
                        <br />
                        @Html.ActionLink("Modifier la section", "Edit", "sections", new { id = item2.section_id }, new { @class = "btn btn - default" })
                        <br />
                        <br />
                        @Html.ActionLink("Supprimer la section", "Delete", "sections", new { id = item2.section_id }, new { @class = "btn btn - default" })
                    </td>
                </tr>
            }

        </table>
    }
    else
    {
        <p>Aucunes sections trouvés</p>
    }
    <hr />
</section>